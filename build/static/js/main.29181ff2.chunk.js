(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{119:function(e,t,a){e.exports={black:"styles_black__1chD8",purple:"styles_purple__CMkvP",smallPurple:"styles_smallPurple__xpJEr"}},120:function(e,t,a){e.exports={container:"styles_container__1HYuv",logo:"styles_logo__Rlj71",guest:"styles_guest__3u1Ap"}},34:function(e,t,a){e.exports={container:"styles_container__aobfC",wrapper:"styles_wrapper__3hiXY",userBox:"styles_userBox__2rGzC",image:"styles_image__21SQt",exitButton:"styles_exitButton__26w4X",username:"styles_username__1CPPv",exit:"styles_exit__1N1ZQ",buttonContainer:"styles_buttonContainer__hrbA_"}},376:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a(12),c=a.n(s),i=a(88),o=a(14),l=a(13),u=a.n(l),p=a(24),d=a(7),j=a(21),b=a.n(j),m=a(193),g=a.n(m),h=a(417),O=a(413),x=a.p+"static/media/gc-logo-symbol-nobg.934bda62.png",f=a(69),v=a.n(f),_=function(e){return Object(r.jsx)("div",{className:v.a.container,onClick:e.onClick,children:Object(r.jsxs)("div",{className:v.a.wrapper,children:[Object(r.jsx)("img",{className:v.a.logo,alt:"logo",src:x}),Object(r.jsx)("h1",{className:v.a.title,children:"Hello World!"}),Object(r.jsx)("p",{className:v.a.description,children:"I really appreciate that you take time to have a look to my work. This app is an instant messaging project that offer the possibility to create and join channels and start a conversation."}),Object(r.jsxs)("ul",{className:v.a.list,children:[Object(r.jsx)("li",{children:'\u2b50\ufe0f Use the "menu" icon on top (Mobile).'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Click on any channel you want to join."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Create a channel with the "+" icon.'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Send messages with the text input."}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Browse channels with the search input."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Report a bug with the "bug" icon.'}),Object(r.jsx)("li",{children:"\u2b50\ufe0f Click on your profile to edit."}),Object(r.jsx)("li",{children:'\u2b50\ufe0f Use the "exit" icon to logout.'})]})]})})},y=a(405),k=a(39),A=a.n(k),C=function(e){return Object(r.jsxs)("div",{className:A.a.messageContainer,children:[Object(r.jsx)("img",{className:A.a.image,alt:"User",src:e.image}),Object(r.jsxs)("div",{className:A.a.textBox,children:[Object(r.jsxs)("p",{className:A.a.username,children:[e.username," ",Object(r.jsx)("span",{className:A.a.date,children:e.date})]}),Object(r.jsx)("p",{className:A.a.message,children:e.text})]})]})},N=function(e){return Object(n.useEffect)((function(){var e=document.getElementById("chat");e&&(e.scrollTop=e.scrollHeight)})),Object(r.jsx)("div",{id:"chat",className:A.a.container,onClick:e.onClick,children:e.loading?Object(r.jsx)("div",{className:A.a.loading,children:Object(r.jsx)(y.a,{})}):Object(r.jsx)("div",{className:A.a.wrapper,children:e.messages.map((function(e){return Object(r.jsx)(C,{_id:e._id,username:e.username,text:e.text,image:e.image,date:e.date},e._id)}))})})},w=a(418),R=a(414),S=a(197),B=a.n(S),E=a(93),D=a.n(E),G=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1],i=function(){e.sendClick(s,function(){var e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],a=String(e.getDate()).padStart(2,"0");return"".concat(t+" "+a+","," - ").concat((new Date).getHours(),":").concat((new Date).getMinutes())}()),c("")};return Object(r.jsxs)("div",{className:D.a.container,onClick:e.onClick,children:[Object(r.jsx)(w.a,{className:D.a.input,placeholder:"Write here...",value:s,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&i()}}),Object(r.jsx)(R.a,{className:D.a.iconButton,onClick:i,children:Object(r.jsx)(B.a,{className:D.a.send})})]})},I=a(198),P=a.n(I),H=a(82),L=a.n(H),U=function(e){return Object(r.jsx)("div",{className:L.a.container,children:Object(r.jsxs)("div",{className:L.a.wrapper,children:[Object(r.jsx)(R.a,{className:L.a.iconButton,onClick:e.menuClick,children:Object(r.jsx)(P.a,{className:L.a.menu,fontSize:"large"})}),Object(r.jsx)("h2",{className:L.a.title,children:e.title})]})})},Y=a(419),F=a(201),T=a.n(F),J=a(200),M=a.n(J),q=a(40),Q=a.n(q),Z=function(e){return Object(r.jsx)("div",{className:Q.a.container,children:e.inChannel?Object(r.jsxs)("div",{className:Q.a.wrapperInChannel,children:[Object(r.jsx)(Y.a,{title:"Back to channels list",placement:"bottom",children:Object(r.jsx)(R.a,{className:Q.a.arrowButton,onClick:e.arrowClick,children:Object(r.jsx)(M.a,{className:Q.a.arrow})})}),Object(r.jsx)("h2",{className:Q.a.title,children:"All channels"})]}):Object(r.jsxs)("div",{className:Q.a.wrapperOutChannel,children:[Object(r.jsx)("h2",{className:Q.a.title,children:"Channels"}),Object(r.jsx)(Y.a,{title:"Create Channel",placement:"bottom",children:Object(r.jsx)(R.a,{className:Q.a.addButton,onClick:e.plusClick,children:Object(r.jsx)(T.a,{className:Q.a.add})})})]})})},V=a(203),K=a.n(V),X=a(202),z=a.n(X),W=a(34),$=a.n(W),ee=function(e){var t=Object(o.c)((function(e){return e.auth})),a=t.username,n=t.image;return Object(r.jsx)("div",{className:$.a.container,children:Object(r.jsxs)("div",{className:$.a.wrapper,children:[Object(r.jsxs)("div",{className:$.a.userBox,children:[Object(r.jsx)(Y.a,{title:"Edit profile",placement:"top",children:Object(r.jsx)("img",{className:$.a.image,alt:"User",src:n,onClick:e.profileClick})}),Object(r.jsx)("p",{className:$.a.username,children:a})]}),Object(r.jsxs)("div",{className:$.a.buttonContainer,children:[Object(r.jsx)(Y.a,{title:"Report a bug",placement:"top",children:Object(r.jsx)(R.a,{className:$.a.exitButton,onClick:e.bugClick,children:Object(r.jsx)(z.a,{className:$.a.exit})})}),Object(r.jsx)(Y.a,{title:"Logout",placement:"top",children:Object(r.jsx)(R.a,{className:$.a.exitButton,onClick:e.exitClick,children:Object(r.jsx)(K.a,{className:$.a.exit})})})]})]})})},te=a(204),ae=a.n(te),re=a(94),ne=a.n(re),se=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),s=a[0],c=a[1];return Object(r.jsxs)("div",{className:ne.a.container,children:[Object(r.jsx)(R.a,{className:ne.a.iconButton,children:Object(r.jsx)(ae.a,{className:ne.a.search})}),Object(r.jsx)(w.a,{className:ne.a.input,placeholder:"Search...",onChange:function(t){return function(t){c(t.target.value);var a=e.groups.filter((function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())}));e.update(a)}(t)},value:s})]})},ce=a(83),ie=a.n(ce),oe=function(e){return Object(r.jsxs)("div",{className:ie.a.group,onClick:function(){return e.groupClick(e._id)},children:[Object(r.jsx)("span",{className:ie.a.tag,children:e.tag}),Object(r.jsx)("p",{className:ie.a.title,children:e.title})]})},le=function(e){return Object(r.jsx)("div",{className:ie.a.container,children:Object(r.jsx)("div",{className:ie.a.wrapper,children:e.groups.map((function(t){return Object(r.jsx)(oe,{_id:t._id,title:t.title,tag:"".concat(t.title[0]).concat(t.title[1]).toUpperCase(),groupClick:function(t){return e.groupClick(t)}},t._id)}))})})},ue=a(95),pe=a.n(ue),de=function(e){var t,a;return Object(r.jsx)("div",{className:pe.a.container,children:Object(r.jsxs)("div",{className:pe.a.wrapper,children:[Object(r.jsx)("p",{className:pe.a.title,children:null===(t=e.currentGroup)||void 0===t?void 0:t.title}),Object(r.jsx)("p",{className:pe.a.description,children:null===(a=e.currentGroup)||void 0===a?void 0:a.description})]})})},je=a(55),be=a.n(je),me=function(e){return Object(r.jsxs)("div",{className:be.a.member,children:[Object(r.jsx)("img",{className:be.a.image,alt:"User",src:e.image}),Object(r.jsx)("p",{className:be.a.username,children:e.username})]})},ge=function(e){return Object(r.jsxs)("div",{className:be.a.container,children:[Object(r.jsx)("p",{className:be.a.title,children:"Members"}),e.loading?Object(r.jsx)("div",{className:be.a.loading,children:Object(r.jsx)(y.a,{})}):Object(r.jsx)("div",{className:be.a.wrapper,children:e.members.map((function(e){return Object(r.jsx)(me,{_id:null===e||void 0===e?void 0:e._id,username:null===e||void 0===e?void 0:e.username,image:null===e||void 0===e?void 0:e.image},null===e||void 0===e?void 0:e._id)}))})]})},he=a(412),Oe=a(211),xe=a(410),fe=a(119),ve=a.n(fe),_e=function(e){return e.isPurple?Object(r.jsx)("button",{onClick:e.onClick,className:e.small?ve.a.smallPurple:ve.a.purple,type:e.type?e.type:"button",children:e.title}):Object(r.jsx)("button",{onClick:e.onClick,className:ve.a.black,type:e.type?e.type:"button",children:e.title})},ye=a(70),ke=a.n(ye),Ae=Object(Oe.a)({palette:{type:"dark"}}),Ce=function(e){var t=Object(o.b)(),a=Object(n.useState)(!0),s=Object(d.a)(a,2),c=s[0],i=s[1],l=Object(n.useState)(""),u=Object(d.a)(l,2),p=u[0],j=u[1],b=Object(n.useState)(!1),m=Object(d.a)(b,2),g=m[0],h=m[1],O=Object(n.useState)(""),x=Object(d.a)(O,2),f=x[0],v=x[1],_=Object(n.useState)(""),y=Object(d.a)(_,2),k=y[0],A=y[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:ke.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(r.jsxs)("div",{className:ke.a.modal,children:[Object(r.jsx)("h2",{children:e.title}),Object(r.jsx)(xe.a,{theme:Ae,children:Object(r.jsxs)("form",{className:ke.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsx)(he.a,{className:ke.a.input,id:"title",label:"Title",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=2||e.target.value.length>12?(h(!0),v("Title should contain 3 to 12 characters.")):(h(!1),v(""),i(!0)),j(e.target.value)}(e)},helperText:f,error:g,value:p}),Object(r.jsx)(he.a,{className:ke.a.input,id:"description",rows:3,label:"Description",variant:"outlined",multiline:!0,value:k,onChange:function(e){return A(e.target.value)}}),Object(r.jsx)(_e,{onClick:function(){return function(t,a){g?i(!1):e.onCreate(t,a)}(p,k)},isPurple:!0,title:"Create",small:!0}),!c&&Object(r.jsx)("p",{className:ke.a.error,children:"Invalid entries."})]})})]})]})},Ne=a(205),we=a.n(Ne),Re=a(56),Se=a.n(Re),Be=Object(Oe.a)({palette:{type:"dark"}}),Ee=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.auth})),s=a.username,c=a.image,i=Object(n.useRef)(null),l=Object(n.useState)(!1),j=Object(d.a)(l,2),m=j[0],g=j[1],h=Object(n.useState)(!0),O=Object(d.a)(h,2),x=O[0],f=O[1],v=Object(n.useState)(s),_=Object(d.a)(v,2),k=_[0],A=_[1],C=Object(n.useState)(!1),N=Object(d.a)(C,2),w=N[0],R=N[1],S=Object(n.useState)(""),B=Object(d.a)(S,2),E=B[0],D=B[1],G=Object(n.useState)(c),I=Object(d.a)(G,2),P=I[0],H=I[1],L=function(){var e=Object(p.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,b.a.post("https://api.cloudinary.com/v1_1/djghq5xmi/image/upload",t);case 4:a=e.sent,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("ERROR",e.t0),g(!1);case 11:if(a){e.next=13;break}return e.abrupt("return");case 13:H(a.data.secure_url),g(!1);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:Se.a.backdrop,onClick:function(){return t({type:"MODAL",payload:{modal:null}})}}),Object(r.jsxs)("div",{className:Se.a.modal,children:[Object(r.jsx)("h2",{children:"Profile"}),Object(r.jsx)(xe.a,{theme:Be,children:Object(r.jsxs)("form",{className:Se.a.form,onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsx)("img",{className:Se.a.image,alt:"User",src:P,onClick:function(){null!==i.current&&i.current.click()}}),Object(r.jsx)("input",{className:Se.a.file,type:"file",ref:i,accept:".jpg,.png,.jpeg",onChange:function(e){var t=new FormData;t.append("file",e.target.files[0]),t.append("api_key","829925223199817"),t.append("timestamp",Math.floor(Date.now()/1e3).toString()),t.append("signature",we()("timestamp=".concat(Math.floor(Date.now()/1e3)).concat("2DgH2r8NVuKODRkNxXjKuLoxKF4"))),L(t)}}),Object(r.jsx)(he.a,{className:Se.a.input,id:"username",label:"Username",variant:"outlined",onChange:function(e){return function(e){e.target.value.length<=2||e.target.value.length>12?(R(!0),D("Username should contain 3 to 12 characters.")):(R(!1),D(""),f(!0)),A(e.target.value)}(e)},helperText:E,error:w,value:k}),Object(r.jsx)(_e,{onClick:function(){return function(t,a){w?f(!1):e.onEdit(t,a)}(k,P)},isPurple:!0,title:"Edit",small:!0}),!x&&Object(r.jsx)("p",{className:Se.a.error,children:"Invalid entries."}),m&&Object(r.jsx)(y.a,{})]})})]})]})},De=a(57),Ge=a.n(De),Ie=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.auth})),a=Object(o.c)((function(e){return e.app})),s=a.inChannel,c=a.currentGroup,i=a.displayedGroups,l=a.messages,j=a.members,m=a.groups,x=a.modal,f=Object(n.useState)(!1),v=Object(d.a)(f,2),y=v[0],k=v[1],A=Object(n.useState)(!1),C=Object(d.a)(A,2),w=C[0],R=C[1],S=Object(n.useState)({open:!1,severity:void 0,message:null}),B=Object(d.a)(S,2),E=B[0],D=B[1],I=Object(n.useState)(null),P=Object(d.a)(I,2),H=P[0],L=P[1];Object(n.useEffect)((function(){var e=g()("http://localhost:5000",{transports:["websocket"]});e.emit("new user",t.id),e.on("fetch messages",(function(e){return Q(e)})),e.on("fetch group",q),L(e),q()}),[]),Object(n.useEffect)((function(){H&&(H.emit("join group",t.id,null===c||void 0===c?void 0:c._id),Q())}),[c]);var Y,F,T=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c,i,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return D({open:!0,severity:"error",message:"Guests are not allowed to create groups, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/verify"),{id:c,token:s});case 7:i=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(i.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/groups"),{title:r,description:n||"No description."});case 20:o=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][GROUPS][CREATE]: ",a.t1),D({open:!0,severity:"error",message:"An error occured: Could not create group."}),a.abrupt("return");case 28:if(o){a.next=30;break}return a.abrupt("return");case 30:e({type:"MODAL",payload:{modal:null}}),q(),null===H||void 0===H||H.emit("create group",t.id,r),D({open:!0,severity:"success",message:"".concat(r," channel created.")});case 34:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),J=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c,i,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.token,c=t.id,s){a.next=4;break}return D({open:!0,severity:"error",message:"Guests are not allowed to edit profile, please register."}),a.abrupt("return");case 4:return a.prev=4,a.next=7,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/verify"),{id:c,token:s});case 7:i=a.sent,a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(4),console.log("[ERROR][AUTH][VERIFY]: ",a.t0),a.abrupt("return");case 14:if(i.data.access){a.next=17;break}return localStorage.removeItem("userData"),a.abrupt("return");case 17:return a.prev=17,a.next=20,b.a.put("".concat("https://git.heroku.com/klingbochat.git/api","/users/edit"),{id:c,username:r,image:n});case 20:o=a.sent,a.next=28;break;case 23:return a.prev=23,a.t1=a.catch(17),console.log("[ERROR][USERS][EDIT]: ",a.t1),D({open:!0,severity:"error",message:"An error occured: Could not edit profile."}),a.abrupt("return");case 28:if(o){a.next=30;break}return a.abrupt("return");case 30:D({open:!0,severity:"success",message:"Profile updated."}),e({type:"MODAL",payload:{modal:null}}),e({type:"EDIT",payload:{username:o.data.user.username,image:o.data.user.image}});case 33:case"end":return a.stop()}}),a,null,[[4,10],[17,23]])})));return function(e,t){return a.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(u.a.mark((function e(a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/messages"),{gid:null===c||void 0===c?void 0:c._id,text:a,username:t.username,image:t.image,uid:t.id,date:r});case 5:n=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("[ERROR][GROUPS][CREATE]: ",e.t0),D({open:!0,severity:"error",message:"An error occured: Could not send message."}),e.abrupt("return");case 13:if(n){e.next=15;break}return e.abrupt("return");case 15:null===H||void 0===H||H.emit("message",t.id,null===c||void 0===c?void 0:c._id);case 16:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var t=Object(p.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("".concat("https://git.heroku.com/klingbochat.git/api","/groups"));case 3:a=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),console.log("[ERROR][GROUPS][FETCH]: ",t.t0),D({open:!0,severity:"error",message:"An error occured: Could not fetch groups."}),t.abrupt("return");case 11:if(a){t.next=13;break}return t.abrupt("return");case 13:e({type:"FETCH GROUPS",payload:{displayedGroups:a.data.groups,groups:a.data.groups}});case 14:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(p.a)(u.a.mark((function t(){var a,r,n=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.length>0&&void 0!==n[0]?n[0]:null===c||void 0===c?void 0:c._id){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,b.a.get("".concat("https://git.heroku.com/klingbochat.git/api","/groups/").concat(a));case 6:r=t.sent,t.next=15;break;case 9:return t.prev=9,t.t0=t.catch(3),console.log("[ERROR][MESSAGES][FETCH]: ",t.t0),D({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),R(!1),t.abrupt("return");case 15:if(R(!1),!r.data.error){t.next=19;break}return D({open:!0,severity:"error",message:"An error occured: Could not fetch messages and members."}),t.abrupt("return");case 19:e({type:"FETCH MESSAGES",payload:{messages:r.data.messages,members:r.data.members}});case 20:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),V=function(){var a=Object(p.a)(u.a.mark((function a(r,n){var s,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=t.id,a.prev=1,a.next=4,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/bugs"),{id:s,title:r,description:n||"No description."});case 4:c=a.sent,a.next=12;break;case 7:return a.prev=7,a.t0=a.catch(1),console.log("[ERROR][BUGS][CREATE]: ",a.t0),D({open:!0,severity:"error",message:"An error occured: Could not report bug."}),a.abrupt("return");case 12:if(c){a.next=14;break}return a.abrupt("return");case 14:e({type:"MODAL",payload:{modal:null}}),D({open:!0,severity:"success",message:"Bug reported, thank you!"});case 16:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e,t){return a.apply(this,arguments)}}();return s?(Y=Object(r.jsxs)("div",{className:Ge.a.sideContent,children:[Object(r.jsx)(de,{currentGroup:c}),Object(r.jsx)(ge,{members:j,loading:w})]}),F=Object(r.jsxs)("div",{className:Ge.a.main,children:[Object(r.jsx)(U,{title:null===c||void 0===c?void 0:c.title,menuClick:function(){return k(!0)}}),Object(r.jsx)(N,{messages:l,onClick:function(){return k(!1)},loading:w}),Object(r.jsx)(G,{sendClick:M,onClick:function(){return k(!1)}})]})):(Y=Object(r.jsxs)("div",{className:Ge.a.sideContent,children:[Object(r.jsx)(se,{groups:m,update:function(t){return e({type:"SEARCH",payload:{displayedGroups:t}})}}),Object(r.jsx)(le,{groups:i,groupClick:function(t){return function(t){R(!0);var a=m.filter((function(e){return e._id===t}));a.length>0&&e({type:"CHANGE GROUP",payload:{currentGroup:a[0]}})}(t)}})]}),F=Object(r.jsxs)("div",{className:Ge.a.main,children:[Object(r.jsx)(U,{title:"",menuClick:function(){return k(!0)}}),Object(r.jsx)(_,{onClick:function(){return k(!1)}})]})),Object(r.jsxs)("div",{className:Ge.a.container,children:[Object(r.jsxs)("div",{className:y?Ge.a.mobile:Ge.a.side,children:[Object(r.jsx)(Z,{inChannel:s,arrowClick:function(){e({type:"EXIT"})},plusClick:function(){e({type:"MODAL",payload:{modal:"create"}}),k(!1)}}),Y,Object(r.jsx)(ee,{exitClick:function(){null===H||void 0===H||H.disconnect(),localStorage.removeItem("userData"),e({type:"LOGOUT"})},profileClick:function(){e({type:"MODAL",payload:{modal:"edit"}}),k(!1)},bugClick:function(){e({type:"MODAL",payload:{modal:"bug"}}),k(!1)}})]}),F,"create"===x&&Object(r.jsx)(Ce,{onCreate:T,title:"New Channel"}),"edit"===x&&Object(r.jsx)(Ee,{onEdit:J}),"bug"===x&&Object(r.jsx)(Ce,{onCreate:V,title:"Bug Report"}),Object(r.jsx)(h.a,{open:E.open,onClose:function(){return D({open:!1,severity:E.severity,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(O.a,{variant:"filled",onClose:function(){return D({open:!1,severity:E.severity,message:null})},severity:E.severity,children:E.message})})]})},Pe=a(8),He=a(29),Le=a(17),Ue=a(71),Ye=a.n(Ue),Fe=function(e){var t=Object(n.useState)(!0),a=Object(d.a)(t,2),s=a[0],c=a[1];return Object(r.jsxs)("div",{className:Ye.a.container,children:[s&&Object(r.jsxs)("div",{className:Ye.a.box,children:[Object(r.jsx)("h3",{className:Ye.a.title,children:"Are you hungry ?"}),Object(r.jsxs)("div",{className:Ye.a.actions,children:[Object(r.jsx)(_e,{isPurple:!0,small:!0,title:"Accept cookies",onClick:e.onAccept}),Object(r.jsx)("a",{className:Ye.a.info,target:"_blank",href:"https://ec.europa.eu/info/cookies_en",children:"More information."})]})]}),Object(r.jsx)("img",{className:Ye.a.cookie,onClick:function(){return c((function(e){return!e}))},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAD0QAAA9EBmIqJtAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABaISURBVHja7V15lFTVmQdBTAKTo3MmixmNMpPEw8RjTkbOmZwknpFean2vqhpsQATZuquXql6qq3e2BoEGHXFhCasC3U3vC01DF00QWRp1PMnxxBhjmPGMx5GMggs6o4DKm++rroJXr15VvXvffbeqGv74HRS6ut673+9+99vvGEmSxow29FU4Jvf6HJ7uMnFXV6l4vKNEONPuFd4HfNbmFS63eoSv9hXbv24psl9BwH9/2Vps/7zNI1wAnIOfe7fDK5zpLBVfht+xEzAH/v5vR+Napf0L7K9w3NlTLjaAsE6B4M6BIL8CoUpGAEjwGRBrIFDjevhwresfbhAgCQBBTIBdnQ8CPwYC/9QoYYcB3yH1lovSwSqnBEJX4jwgAFgF+Ece73+wKvf7hxqs377uCNBTJi7qLBH+GFLdhgodjgwJNIs0WK0q9Fh4H/DPRrz7YL3jvsO1ztXw+/9y7ftyqkY9AUDg98JO74cz+6LRQofvkfr9DgnUO4nQldjP6t0P1+fcGxjRLH+O9X1D1Y6po5IAYHTNBtX7X0YLPSz4GOqdBhv0vHdXmeCC4+1En0/8q6bvq3NtGVUEgJefB4L/axoKHvEF4C6q463UsbAtpOXQ5iD4zo8OlVhvSXsCgDAWgHv2QZoKPoxGKtJXOOeAXXMl/Hxoe5B8LxxZM9OWALDjfwr+9ttcBA+GnUGCDxuAVJY5GJzvhJ8RiEBjgxxKOwLAy46HndgiZ76RbpyBgg+jkGYd+r3iT+TPCrYPzXd/BcbgD9KGACD42RhQ4bHrcUEDxgoe8RZgHJ2x69gvf15aogZqnTUpTwB4wXGgho/wEDyq0gN+h9GCD8NPuyZtXvsluaaifwbnmylNANj1U8DIO89D+BjEIQzg6MFlwHeodn+5UCJ/blLjL9oldP5LShIAhF+yz8D4vBwYsuUk+DC6aNcFiPq2TuNPQYCcrSlFAHixsfCSh3kIvtUjSAOVTt7CR1ipvJ9y+2QUuk7jLxI1ro+PNSz4RkoQABM2cKb9iZd7p3v30AGjdTdRqf9SsUf+DgdYkbcmZ3bSCQC7/lYQ/nu8gjqki4SW9i63IG1dZJd2ukH9ekWpr8IpDZKTqJ3a+PMIX8jfg5X2CtS5AkklAOzGO+HlPua182kWCYX/7HxbFDYusElNxUTapFSHhox4lz4fM4/l66NLhL9PCgFAIFPgLP6cl6VP699vz7erEiAM1Agafxd1Jq61WPhaUWjC7GgK1Dkf4E4AEMgdXIWv48xvL3UEd3ssAuwp1CSM/wOMpw6Blwi/V74Xo2PgYqDW8SOuBMAzHxj8CQ/hY7CEhcG33+8IqvttefaoY2C/X5MgjukqYytz2JXv1lWq0xOoc30IrqDA1QYAwd8CQjmbTsJXAo2/Hp9T6ip3kFjjO/VunDavcCHiHYOxACot8GdwAYsONIjf4hoHCPn5f+EhfFgsGivdSDyuOxNaJmyNNgaJtMDRQM10O4hwbFKygTyDPCkmfESNXgL0lrtuVWZDNRiDlwC7AzU5P0tqUSiGd40Q9tNzLVKlPUvyA5blmKQtj1qTFeFLhDxGYfLXoo1Bh0q2z3UO6wOxIjjpZeFgrPwT69j+toU2yZudIeVNm3YVBZkZUoUtW2qcZZVaPGJKEaCn3DHXk5kpjNGpfrvLHS5VW6d2hPRDta43AnU5+TQhXkMIgCnddsZZvTW5Zik/I1L4HhNqAVMEluaYpe15XIo7YmKnWwBSZkl5GdOu4HPCc39dYs46XG6x3E0rAGxmUYlwvnuoxinoPd+ZE4BlPn9vgV3yWbMiBO8GIpRbsqOEL0e1aJJ+s8jOVfAYdGoAosqfNR8Awg8/1wXAfBoBDFTlfq/DK7yLXkGnV3izp1x0pmRnELByJivh73FbpcKsyF3vRpUfR/BKPDXPxkfd+xxSmSUz8nhColpVidrpM5uT1kOIrmCgNqcQnnvFYK3rbmYEwBo+lmVcQTUqW1BEjAWNi62LjdUEGChCW0T+nMVZmZLfFve53gMi/5K38Ifqcv4Vnvk/5YGhYw2uW5kQAHZ/GyvhbwBLXyl8T3YmsfAR6x+2Gib8hofMUc9Zas7S+mwfVQnZP+Yh+MOVpolgLG6EZ74S1TlU61qgmwA9ZeLPWVbvNs6KXlg1o08L0DA0QvjogiqfscxCrKGGjRY+qPkHI3Z9VGIoZ41uAsjr1lONAPUu9gRo8YpRz1dEp6Euue+//2ajdn2gzrlJbdcr8gMtuggAqn+xEcEe5QIXUx4Ba2axPwIaZkTv/lILHUGrLZZ7mPdN+sRS0Mofa3yfYV0EaFPxUVlAaVjlZ0yjWuBnHmVvBNY71dQ/HQFqxKwfshI8ho5hQ75OmDN4j5oA3WXiIqPi+xjuZeEF7MwXmBPgiTnWqGfzmukIUGkyTWRYane1irhHe/XzlY6G3AlUBGg3sFnz8YfZeAKtXvbNH1groIxMosaiIMBFxoW2EUUxWt9nqGrGj4kJAAybZ2SGrwngzpgWFQgiXeR+gxJFai5gCfkxcDaRUJuKLPe0FNpK9xXaavcV2araiu1TVH92zJib5J4YlpQTtI1lEROAx3CGcpVgkI/gGGicZVwM4GC1K5qg5HbK6/HrAu2/hHVQJtWutBTal6keAd7IYttDGrufMJlERAAcy8Ijz6/mDnpN2o+BdooSqt/WB10jTT+7XuWYKiGzBY7HV+m2F2OszRvqWVjhVfnP9WvsfUwUC1Bz/Qa4NHACirKivYGK+GFWqdZhDoZoSQQ/BEI/vcYlvbLOJb3UCERYou1z6P8rE0AJwsBy7I6p+t3m22ENYg27Oq/eTOJ4Vv5zmg3BBLEAtTq/S7xat3e57UGhRwRdsjIjkkKVgOXTLcGw77bFAqg+cpX+4ooR4YdxcpW2zz0z30avpcSsX8fc/XDux1mbI6puYKkzm9IQHNZMAGBVAQ/hy3vh20rEoO/tyc6QirMxHZwpPTbTIu0uFKTucieTcjAUuJwAqA20ftZrjtQCeUEtldBWeS2BRR8vrb4utiEoEBuCgVrX7zUTAM7/P/Dq3+eZz9dDgKYiIcogxFR27NR1drfPYf5RfAIIL8Vam+Zi4aE4rvlH5IZgzgZNBMCGTpohjFixizC6py9ZBIhJAnRbbSM2yaqHLJ/6BdMzWtPAYOnPjlko4xUnxynHezHSDohrCJ5FA/C0L/ebmgiA41dJhd/nF6WX1o4s6tHlTs2f0z0MgTMBgoUh8My/WWST1s5CgZukZ+dbpe6KiB2YTxjYyQUoQ+1nElUPtRYLXyqO0g/gu4+Aqn8a/nQP1U3/1UCt/TbiiqBOBbu04MRKZ8TCIiG0fO5QNd+6vuMrIwkw/Jgh3/MJ4HYSEuwtNH0XjoMWWJPL8Of7TYXCgwlDwsW5k3pLhXndpULh/krxbmYlYThKnZQAw2siF/bIUoemOn/exZxHwO17pfHac76wzLDv6qaK8ydQ04bXBPb7HZNpjDlU+3ICnFrt1OT+JaOi90jdiDuoNQagAzPSblw8uH8rqFy5ajGCAIg2b/zP9PsdqdjowRIXAD9NKwLA+T9MQ4CuciGKAH0V8e2AQI1rtBNACpVp/V3aEIC62QP8+dNrIwnQ4xPidvjGmXkrdYB72Fnm4DHckQeOA25OCwK06riEYb//2jGAXkGbJ/bPxotfyyd34PyegapRQYJ2ViR4fsGD31DDsYYHx+siAJzJU1hM7eitEKR9xQLV+T9Q5Yya1IEkOFg9KkgwCPgWdSEIBo2K7W/GWdeLzUX2pn1ukerIGdPnc5Tziv8PxOnrw3YvNRLwjhkYhGHAbcTuIfj8sG4XtKxtc5FQR0UAvFqNFwHiJXawBUttds+OfPtoMQxfB0whEU5Tkf0BgvV9gYoAeEVJqiSAgiRQGdx0oMo5WkjwOaBYq3C2ue+/GesDNNZXUM0twmrT/+A140drM6acBFsW2mhn56QyBgDf1aYFLPfsK7R3quQNlFnEajoC8LqqhaCStQ+MxefcQrAfv0fnEMVBQLNHDGb0woDFAqOVHan6/U7p+QIh2KyKY+g0fu53xAahx3bXvkLbDHj+xlBNAaaHPwUjcGDXIsffUBEAdub/8iBAF+cU8D4Qeq0jOzhzQJ7CxQbPCll52eNzrLpm9SJZNy2MPLIGtB1Z55n0C+TmjtPlBuJdurxKwHgJv7/SpT5/IEYlz/IZZioS9MHO36RiuCbI04dxOiUCQXiR8mgjgF/IJu48WktYZh7c+SrCJ5he0poSBOBxFSthO5MutJU4ooSP2kBLIeeeIu3PuCMvOm6xeSHR6Hf0CO7jKWz4vrsB8wG7ACcBrjFGCXzjo1ZsjgwWeWLR53NuPv48VuvQDnaod5qlgxoCTxjP2KhP+GGcAUymEKQV084AnApyL+D7gAmASYA7kVihf3PhjWaAvYB3VL7/j8wJgPN/quzZUfX+qIL/ba4VNIGxLl2xSi2/hireq0BhavkerFqWu6o6DMnPsJRLo+DH45RShut1aQzL6R9PPmKJav3G5gqfLbLOH2v8MevHQ/0XZZH1HFYKJqnbp02Y3WDsdZQ6WKW4D8UrKcN/A5xgvGbn0AhkYgOsVBmsEK+tGonAOsyrR/1HDJ6YaU1WgOhDwGwV4WcA/seA73sb3cAv9Qr/KR1TP3YXiMaqf4q+fkRfRVKjj38ArMOZxIB/N/B7XqMqBlWiWsXtKtPY6fvEHDbz/lAd61X/cuwtEkdb+FkNJ5EA7ydz4sfKhyxsZvottjMbP4fYvMB+PRDgICaDzuglAIZcaefqNM5mc96iPcGSAEYYqSmIFiwIPabbBniE3gbYspDNTjukNtSBbrQLM1KmAVZhQcgOFiNf8iknajQzHAW/fo7uoQ5SjUO7G5gsMKySemRMr8/B5PKHUmUbNY580RCA6fezXewNc62axs/HGj6Ryqp/oNIlbQ+FoHFCGoPLNKYyKQpFrJhuIt59K6ZbDFkonPS1YoY54khADRXveVD4HSl+7uNNZ/Lw85ZFuq+b+7busnD5rR/501RaqOMQoKnYWFdrhAimiOMJ6wNKZDUBI2rfnBZG397i6FtPdZDgrP7GkCgtoC0egLuN56UPeMwsn64gQuYIEVaAG9qRJhY/1kaqFc5uoSuhP3atNaxEOMkqH7DUlR2co5MfMgRx7AseD+tnW6Sn51mlZtj1g0mq90ciPAGGYr3LFIxd4KUTB9Os7Ly3Qr16muDK2zDWXyUAeAJLjBgGeZ02hyaFBHvII5fmqwTYX+G4k1dvAE1lEI55O7qUS2t3WpEAaxBQ+JsW2Em9qcuAicoBEVwuf6YZECEfRPHC8hvCl42BlXp9VJPUhtVmBA3z0gIkgYzjDfrn+/D310eMNZwziOXiKdgSvzqaAGViES8CaB4SBar/5UbFfJ/VqS18HDevDEThhRNYdIqeDxprKWB4ZkQRAG8C51UgqnVM3NFlrqgBFDjmJVWF//SjVk2TRbEYpgHcT2x+ScIsBCw6mZAWgyJPPRYp/JfXjRiEqUoAZTkcusGJClJWARF6+Y7N2xJzUmhvuejhPSo2Hl5eSzfjl6yJhM042o0qc4U9GucKY3cSRwL8IiYB4B/HtaVQo8hLCgKgK8jSgkYDLexHd5fr24Wq9x9onCyOR8J+Pxe74K2E08LBG3iB17j4RDvv6JKR8e5oCLI++3HBlXX9tNZ6t88RlQchLUfbkc9lfuLShASAnTlVj2CbATvybNL2xTapqTA1uoVitaErw6m0u3BVrln3VXObjC9BwzsG79J0ZUyHl/6yyC2yTtnN4As3F8Y3BpPlI2MsQkmAVi8dIaMaUTPIq5E3zDX8Muwewy+N2l0Q3S/XVGiLP3Dal7zcAPbzy5/1uQJyNYw9glHlcKZM5mVoQ7LYCG3xB9G1ccpLijTVBCyOJkBzgmOgFbVAkgiACRSlHUD6O6oENncgNiSojj61+lok9Eg98bsGiO8NBJewjrghdIFd0SptS8nx8WF0ljuippKR/g6vSikcwb1Cmi7CPrFStzv8ANXVse1e4ROtwn8uP3r3P+/WeOlEEiaIh7HLfc0VxN5C4m4kxfkfJABFJXKs+QRDKuHwU2QEOEF9dzC4hJrzAzsV/fIYGCHRHsmqEwiEXEJaD0CpAUi7kcPA5JHqhVfLVcLhZBnRTL3Xx2u6RBJ3u5wAO/NshkwRSzXge+u9bn7ZdLN0MMZo3NOKOxlQGxCEwzt13R4e8gimorumRYi74BjYCuf+jsUGZwmDBpwAlrNFaphu0h3F04slLrUbx7M1n/29MfoQUNDK3X9yJdHcgTt0EyAUHDrMK0mUqFYACzjLLJlRI2A2L7QllQQNivb4fA2t6ZgDiJcTGapXEKCRqCrKT3RlTDzA+TwJDLWLyR4ouW6WOaKyN1+Rbt2el9xj5Jn5VsmtISZQJZiCjR1afudVD4AsHI5jacczI0BICyzilSnsVQSHcOaf0tgqgF2vTLZUpkBb9x54/kJFWhj/PxwZxFtQuwjL0NHvJ/D9MeT7a+JLo7SA5mYxvelivJ4tnyDNirurvSS5NkEfnOk1YnZEZxImhziVoa+lujVMC3rLxQmgoj/lQQCMDWDnkDuDPMuGDZ69Fcmv9z8EJH5qrpVXpk8KjX4bZxgBEH0+x69YDpaKhzoH/eSRJ+fa0tKt1IHzWqx+3QQIuYbreRDAr2PyCE77GqhyXi/Cx3PfpuviSFJ0lgiG3zOgZ/ZQlWi6Xm4oQ6zTfXMo8ejyIvvYjhLhbSMJsH62WaXOLivVR73xRitgLHcChI6CiWAUfmgUAfYW2KM8gAKNpVYtnutiyteQvMSbOwFCRuEPjGwr82RHZ9sSVduse/i62P2v4mxgZpdH6yTBfeC2XTKCAPUqnkBpnDg7Gn88XEA0MJN4l9FbgO8wuziSBbrLxJ8bES7e7bZLBZmKYyAj9jFg5OAJnGvQViJGVD7t4R95ROH/kOnNoawANsFP2gy4gubJObGGUF/TBNWC2bDK2sFqp7SnUFS9IILzrWavstr5hhAgdBzc3k5RT6j1DoLVuSZp7Uyz1DjTFJz20ewZmdg9aKDLh4kbNcFfvSOokpvBN8mQu4NZo9/vuA1cxP/mdRuZ0f5+POG387kMq1Wvtc+VAKG8wU08gkXhoRMMZubFvthaUe6G1cPN8J0cVP+V0NTwsYbeHm4kwDhcyit30GtQpxFO4NpbLAYNPkzlcoownqcN76YUAULa4BcsxtJrvcl8MP0vnD5Jk9hJWQIgDlQ6J3aViq/wKi07kJ7TyFDlryVN6aYFAWRHwuI2j/AFrxb0QPoI/3WSSp60JUCIBLeANujnYRtgjeHB1E4LY/WuX2sN36gggNw2gDP7LC93MQWJ0MnrrE9JAsg0ghd26ke8BlSlABFOJOrYua4IICNCIRDh3CgmQiBeo+Z1TwBZTmEht6PBeCKgZd8Tqz//BgHia4SpYCweNirVrCQCNqgyDPJg1m6p2liWGwSg0wpuENKfeHgOGEzCPkWKgBIOYdysHMV2gwBsPYdJoBl8QIaTPHoU0I3EEHOMYwKnbg8DHgtd7zoh3dYz7Qigln4G7bASjorfYRq61cBxt/D7L4NmeCN0g7c5PHI9nZH2BIhBiruAFItAU2wHYpwGlf5Oh1f4AAR4AaOQrR7hS/lRgv+Nf4f/hj8D+AA/A1pmuKtM3NZTJi6A33fHaFyr/wcZmd3SLrrM4wAAAABJRU5ErkJggg=="})]})},Te=a.p+"static/media/cropped.4c54981f.png",Je=a(120),Me=a.n(Je),qe=function(e){var t=Object(o.b)(),a=function(){var e=Object(p.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/guest"));case 3:a=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][GUEST]: ",e.t0),e.abrupt("return");case 10:if(a.data.access){e.next=12;break}return e.abrupt("return");case 12:t({type:"GUEST",payload:Object(Pe.a)({},a.data.user)});case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:Me.a.container,children:[Object(r.jsx)("img",{className:Me.a.logo,alt:"KlingboChat Logo",src:Te}),Object(r.jsx)(He.b,{to:"/login",children:Object(r.jsx)(_e,{onClick:function(){},isPurple:!1,title:"Login",small:!1})}),Object(r.jsx)(He.b,{to:"/signup",children:Object(r.jsx)(_e,{onClick:function(){},isPurple:!0,title:"Signup",small:!1})}),Object(r.jsx)("p",{className:Me.a.guest,onClick:a,children:"Continue as guest"})]})},Qe=a(420),Ze=a(415),Ve=a(118),Ke=a(48),Xe=a(58),ze=a.n(Xe),We=function(e){var t=Object(o.b)(),a=Object(Le.g)(),s=Object(n.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],j=Object(n.useState)(!1),m=Object(d.a)(j,2),g=m[0],f=m[1],v=Object(n.useState)({open:!1,message:null}),_=Object(d.a)(v,2),k=_[0],A=_[1],C=function(){var e=Object(p.a)(u.a.mark((function e(r,n,s){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/login"),{checked:r,email:n.toLowerCase(),password:s.toLowerCase()});case 4:c=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log("[ERROR][AUTH][LOGIN]: ",e.t0),l(!1),e.abrupt("return");case 12:if(c.data.access){e.next=16;break}return A({open:!0,message:c.data.message}),l(!1),e.abrupt("return");case 16:r&&localStorage.setItem("userData",JSON.stringify({id:c.data.user.id,token:c.data.user.token})),t({type:"LOGIN",payload:Object(Pe.a)({},c.data.user)}),a.push(""),l(!1);case 20:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a,r){return e.apply(this,arguments)}}(),N=Object(Ve.a)({initialValues:{email:"",password:""},validationSchema:Ke.a({email:Ke.b().email("Invalid email address").required("Required"),password:Ke.b().min(6,"Must be 6 characters at least").required("Required").max(20,"Can not exceed 20 characters")}),onSubmit:function(e){return C(g,e.email,e.password)}});return Object(r.jsxs)("div",{className:ze.a.container,children:[Object(r.jsx)(He.b,{to:"/",children:Object(r.jsx)("img",{className:ze.a.logo,alt:"logo",src:x})}),Object(r.jsxs)("form",{className:ze.a.form,children:[Object(r.jsx)(he.a,Object(Pe.a)({className:ze.a.input,id:"email",label:"Email",variant:"outlined",type:"text",helperText:N.touched.email&&N.errors.email,error:N.touched.email&&!!N.errors.email},N.getFieldProps("email"))),Object(r.jsx)(he.a,Object(Pe.a)(Object(Pe.a)({className:ze.a.input,id:"password",label:"Password",variant:"outlined",type:"password"},N.getFieldProps("password")),{},{helperText:N.touched.password&&N.errors.password,error:N.touched.password&&!!N.errors.password})),Object(r.jsx)(Qe.a,{className:ze.a.check,control:Object(r.jsx)(Ze.a,{checked:g,onChange:function(){return f((function(e){return!e}))},name:"checked",color:"primary"}),label:"Remember me"}),Object(r.jsx)(_e,{type:"submit",onClick:N.handleSubmit,isPurple:!0,title:"Login",small:!1})]}),Object(r.jsx)(He.b,{to:"/signup",children:Object(r.jsx)("p",{className:ze.a.guest,children:"Don't have an account? Sign Up"})}),i&&Object(r.jsx)(y.a,{}),Object(r.jsx)(h.a,{open:k.open,onClose:function(){return A({open:!1,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(O.a,{variant:"filled",onClose:function(){return A({open:!1,message:null})},severity:"error",children:k.message})})]})},$e=a(49),et=a.n($e),tt=function(e){var t=Object(o.b)(),a=Object(Le.g)(),s=Object(n.useState)(!1),c=Object(d.a)(s,2),i=c[0],l=c[1],j=Object(n.useState)(!1),m=Object(d.a)(j,2),g=m[0],f=m[1],v=Object(n.useState)({open:!1,message:null}),_=Object(d.a)(v,2),k=_[0],A=_[1],C=function(){var e=Object(p.a)(u.a.mark((function e(r,n,s,c){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/signup"),{checked:r,email:n.toLowerCase(),password:s.toLowerCase(),username:c});case 4:i=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.log("[ERROR][AUTH][SIGNUP]: ",e.t0),l(!1),e.abrupt("return");case 12:if(i.data.access){e.next=16;break}return A({open:!0,message:i.data.message}),l(!1),e.abrupt("return");case 16:r&&localStorage.setItem("userData",JSON.stringify({id:i.data.user.id,token:i.data.user.token})),t({type:"LOGIN",payload:Object(Pe.a)({},i.data.user)}),a.push(""),l(!1);case 20:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),N=Object(Ve.a)({initialValues:{username:"",email:"",password:""},validationSchema:Ke.a({username:Ke.b().min(2,"Must be 2 characters at least").required("Required").max(12,"Can not exceed 12 characters"),email:Ke.b().email("Invalid email address").required("Required"),password:Ke.b().min(6,"Must be 6 characters at least").required("Required").max(20,"Can not exceed 20 characters")}),onSubmit:function(e){return C(g,e.email,e.password,e.username)}});return Object(r.jsxs)("div",{className:et.a.container,children:[Object(r.jsx)(He.b,{to:"/",children:Object(r.jsx)("img",{className:et.a.logo,alt:"logo",src:x})}),Object(r.jsxs)("form",{className:et.a.form,children:[Object(r.jsx)(he.a,Object(Pe.a)({className:et.a.input,id:"username",label:"Username",variant:"outlined",helperText:N.touched.username&&N.errors.username,error:N.touched.username&&!!N.errors.username},N.getFieldProps("username"))),Object(r.jsx)(he.a,Object(Pe.a)({className:et.a.input,id:"email",label:"Email",variant:"outlined",helperText:N.touched.email&&N.errors.email,error:N.touched.email&&!!N.errors.email},N.getFieldProps("email"))),Object(r.jsx)(he.a,Object(Pe.a)({className:et.a.input,id:"password",label:"Password",type:"password",variant:"outlined",helperText:N.touched.password&&N.errors.password,error:N.touched.password&&!!N.errors.password},N.getFieldProps("password"))),Object(r.jsx)(Qe.a,{className:et.a.check,control:Object(r.jsx)(Ze.a,{checked:g,onChange:function(){return f((function(e){return!e}))},name:"checkedB",color:"primary"}),label:"Remember me"}),Object(r.jsx)(_e,{type:"submit",onClick:N.handleSubmit,isPurple:!0,title:"Signup",small:!1})]}),Object(r.jsx)(He.b,{to:"/login",children:Object(r.jsx)("p",{className:et.a.guest,children:"Already a member ? Login"})}),i&&Object(r.jsx)(y.a,{}),Object(r.jsx)(h.a,{open:k.open,onClose:function(){return A({open:!1,message:null})},autoHideDuration:5e3,children:Object(r.jsx)(O.a,{variant:"filled",onClose:function(){return A({open:!1,message:null})},severity:"error",children:k.message})})]})},at=Object(Oe.a)({palette:{type:"dark"}}),rt=function(e){var t=Object(o.b)(),a=Object(n.useState)(!0),s=Object(d.a)(a,2),c=s[0],i=s[1];Object(n.useEffect)((function(){localStorage.getItem("cookieData")&&i(!1);var e=localStorage.getItem("userData");if(e){var t=JSON.parse(e);l(t.id,t.token)}}),[]);var l=function(){var e=Object(p.a)(u.a.mark((function e(a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post("".concat("https://git.heroku.com/klingbochat.git/api","/users/verify"),{id:a,token:r});case 3:n=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log("[ERROR][AUTH][VERIFY]: ",e.t0),e.abrupt("return");case 10:if(n.data.access){e.next=13;break}return localStorage.removeItem("userData"),e.abrupt("return");case 13:t({type:"LOGIN",payload:Object(Pe.a)({},n.data.user)});case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(r.jsxs)(xe.a,{theme:at,children:[c&&Object(r.jsx)(Fe,{onAccept:function(){localStorage.setItem("cookieData","accepted"),i(!1)}}),Object(r.jsx)(He.a,{children:Object(r.jsxs)(Le.d,{children:[Object(r.jsx)(Le.b,{path:"/login",exact:!0,component:We}),Object(r.jsx)(Le.b,{path:"/signup",exact:!0,component:tt}),Object(r.jsx)(Le.b,{path:"/",exact:!0,component:qe}),Object(r.jsx)(Le.a,{to:"/"})]})})]})},nt=function(){return Object(o.c)((function(e){return e.auth.isLogged}))?Object(r.jsx)(Ie,{}):Object(r.jsx)(rt,{})},st={inChannel:!1,messages:[],members:[],displayedGroups:[],groups:[],currentGroup:null,modal:null},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE GROUP":return Object(Pe.a)(Object(Pe.a)({},e),{},{currentGroup:t.payload.currentGroup,inChannel:!0});case"SEARCH":return Object(Pe.a)(Object(Pe.a)({},e),{},{displayedGroups:t.payload.displayedGroups});case"FETCH GROUPS":return Object(Pe.a)(Object(Pe.a)({},e),{},{displayedGroups:t.payload.displayedGroups,groups:t.payload.groups});case"FETCH MESSAGES":return Object(Pe.a)(Object(Pe.a)({},e),{},{messages:t.payload.messages,members:t.payload.members});case"MODAL":return Object(Pe.a)(Object(Pe.a)({},e),{},{modal:t.payload.modal});case"EXIT":return Object(Pe.a)(Object(Pe.a)({},e),{},{inChannel:!1,currentGroup:null,displayedGroups:e.groups,members:[],messages:[]});default:return e}},it={isLogged:!1,username:null,image:null,token:null,id:null},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(Pe.a)(Object(Pe.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:t.payload.token,id:t.payload.id});case"LOGOUT":return Object(Pe.a)(Object(Pe.a)({},e),{},{isLogged:!1,username:null,image:null,token:null,id:null});case"GUEST":return Object(Pe.a)(Object(Pe.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image,token:null,id:t.payload.id});case"EDIT":return Object(Pe.a)(Object(Pe.a)({},e),{},{isLogged:!0,username:t.payload.username,image:t.payload.image});default:return e}},lt=(a(376),Object(i.b)({auth:ot,app:ct})),ut=Object(i.c)(lt);c.a.render(Object(r.jsx)(o.a,{store:ut,children:Object(r.jsx)(nt,{})}),document.getElementById("root"))},39:function(e,t,a){e.exports={container:"styles_container__38Lp1",wrapper:"styles_wrapper__1ksri",messageContainer:"styles_messageContainer__1bi-u",image:"styles_image__3IAmQ",textBox:"styles_textBox__3zJ74",username:"styles_username__gp21n",message:"styles_message__2fdNf",date:"styles_date__1ZU1k",loading:"styles_loading__3bdcg"}},40:function(e,t,a){e.exports={container:"styles_container__2MR-4",wrapperInChannel:"styles_wrapperInChannel__32HJJ",wrapperOutChannel:"styles_wrapperOutChannel__2h8h1",title:"styles_title__10AGl",addButton:"styles_addButton__37CQb",arrow:"styles_arrow__1Y24X",add:"styles_add__1FoEA"}},49:function(e,t,a){e.exports={container:"styles_container__FAJLN",logo:"styles_logo__3lBXi",form:"styles_form__3vKJh",input:"styles_input__WoDud",submit:"styles_submit__5Hygl",guest:"styles_guest__1-eeo",error:"styles_error__38x88"}},55:function(e,t,a){e.exports={container:"styles_container__1Roxt",wrapper:"styles_wrapper__1-CVQ",member:"styles_member__MkOiT",title:"styles_title__2NFLj",username:"styles_username__1YN4j",image:"styles_image__3OTC0",loading:"styles_loading__2E1WL"}},56:function(e,t,a){e.exports={backdrop:"styles_backdrop__1hc-c",modal:"styles_modal__391s6",form:"styles_form__3Y4aS",input:"styles_input__3wwrt",error:"styles_error__3_Z2K",image:"styles_image__kvAkw",file:"styles_file__8_hRt"}},57:function(e,t,a){e.exports={container:"styles_container__1IRZ6",main:"styles_main__c0yGQ",side:"styles_side__3IL-8",mobile:"styles_mobile__1d-79",sideContent:"styles_sideContent__291DD","slide-in":"styles_slide-in__ufLCs"}},58:function(e,t,a){e.exports={container:"styles_container__qcFlA",logo:"styles_logo__2kH5k",form:"styles_form__2XU2U",input:"styles_input__3dTRC",submit:"styles_submit__3ZZXm",guest:"styles_guest__1_Pd4",error:"styles_error__1GqvS"}},69:function(e,t,a){e.exports={container:"styles_container__i5krN",title:"styles_title__2qU66",wrapper:"styles_wrapper__1Fg-m",list:"styles_list__1Dd57",description:"styles_description__h-XtU",logo:"styles_logo__36L4L"}},70:function(e,t,a){e.exports={backdrop:"styles_backdrop__1-cG5",modal:"styles_modal__1VaQ-",form:"styles_form__EIdEi",input:"styles_input__26ZWr",error:"styles_error__30_4v"}},71:function(e,t,a){e.exports={container:"styles_container__1Gij_",box:"styles_box__AAale",cookie:"styles_cookie__3UZTf","wobble-ver-right":"styles_wobble-ver-right__3P2f7",title:"styles_title__3QYzM",actions:"styles_actions__337gt",info:"styles_info__HbE2N"}},82:function(e,t,a){e.exports={container:"styles_container__2vJCo",wrapper:"styles_wrapper__3DYop",title:"styles_title__CKpYB",iconButton:"styles_iconButton__2vvhY",menu:"styles_menu__36HKZ"}},83:function(e,t,a){e.exports={container:"styles_container__17A2D",wrapper:"styles_wrapper__3ADev",group:"styles_group__2-_Cm",tag:"styles_tag__1zvRF",title:"styles_title__2VcIH"}},93:function(e,t,a){e.exports={container:"styles_container__1D5r1",input:"styles_input__1OfK4",iconButton:"styles_iconButton__3XzgX",send:"styles_send__3p2-2"}},94:function(e,t,a){e.exports={container:"styles_container__2nHZ2",input:"styles_input__hYUt2",iconButton:"styles_iconButton__1dSHA",search:"styles_search__yTn_M"}},95:function(e,t,a){e.exports={container:"styles_container__11RCj",wrapper:"styles_wrapper__mFU7p",title:"styles_title__2SONI",description:"styles_description__nJTRi"}}},[[377,1,2]]]);
//# sourceMappingURL=main.29181ff2.chunk.js.map